
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stress and Strain from a Cyclic Modal Analysis &#8212; PyMAPDL Legacy Reader 0.51.3 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-rendered-html.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Cyclic Model Visualization" href="sector_model.html" />
    <link rel="prev" title="Understanding Nodal Diameters from a Cyclic Model Analysis" href="academic_sector_nd.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><style>
    .navbar-light {
        background-color: black !important;
    }
</style>

<div class="container-xl">

    <a class="navbar-brand" href="../../index.html">
    
      <img src="../../_static/pyansys-logo-black-cropped.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon" >
        <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i>
      </span>
    </button>
    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../../getting_started.html">Installation</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../user_guide/index.html">User Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../api/index.html">API Reference</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="../index.html">Examples Gallery</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../../contributing.html">Contributing</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/pyansys/PyMAPDL" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square" style="font-size:24px"></i></span>
            </a>
          </li>
        
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-read_binary/custom_visualization.html">
   Custom Scalar Visualization
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-read_binary/load_corner_result.html">
   Cylindrical Nodal Stress
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-read_binary/load_shaft_result.html">
   Shaft Modal Analysis
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-read_binary/load_thermal_result.html">
   Thermal Analysis
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-read_binary/pontoon.html">
   Shell Static Analysis
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="academic_sector_nd.html">
   Understanding Nodal Diameters from a Cyclic Model Analysis
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Stress and Strain from a Cyclic Modal Analysis
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="sector_model.html">
   Cyclic Model Visualization
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-01-cyclic-results-academic-sector-stress-strain-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<div class="sphx-glr-example-title section" id="stress-and-strain-from-a-cyclic-modal-analysis">
<span id="ref-academic-sector-stress-strain"></span><span id="sphx-glr-examples-01-cyclic-results-academic-sector-stress-strain-py"></span><h1>Stress and Strain from a Cyclic Modal Analysis<a class="headerlink" href="#stress-and-strain-from-a-cyclic-modal-analysis" title="Permalink to this headline">¶</a></h1>
<p>This example shows how to extract strain and stress from a cyclic
modal analysis.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># sphinx_gallery_thumbnail_number = 2</span>
<span class="kn">from</span> <span class="nn">ansys.mapdl.reader</span> <span class="kn">import</span> <span class="n">examples</span>
</pre></div>
</div>
<p>Download the academic modal analysis file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rotor</span> <span class="o">=</span> <span class="n">examples</span><span class="o">.</span><span class="n">download_academic_rotor_result</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rotor</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>PyMAPDL Result
Units       : User Defined
Version     : 20.1
Cyclic      : True
Result Sets : 26
Nodes       : 786
Elements    : 524


Available Results:
EMS : Miscellaneous summable items (normally includes face pressures)
ENF : Nodal forces
ENS : Nodal stresses
ENG : Element energies and volume
EEL : Nodal elastic strains
ETH : Nodal thermal strains (includes swelling strains)
EUL : Element euler angles
EPT : Nodal temperatures
NSL : Nodal displacements
</pre></div>
</div>
<p>Plot nodal displacement for result <code class="docutils literal notranslate"><span class="pre">(2,</span> <span class="pre">2)</span></code>, which corresponds to
the load step and sub step in fortran indexing.  You could have also
used the python cumulative index 3.
rotor._positive_cyclic_dir = True</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_nodal_displacement</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">cpos</span><span class="o">=</span><span class="s1">&#39;xy&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_001.png" />
<p>Extract the nodal elastic strain for the fourth cumulative result.
Because pymapdl-reader uses zero based indexing, we have to input “3” here.</p>
<p>Depending on the version of ANSYS, MAPDL either does or does not
write the duplicate sector for a result.  If MAPDL does not write a
duplicate sector, pymapdl-reader will search for a duplicate mode and use
that as the duplicate sector in order to be able to expand to the
full rotor.  Regardless of if there is or isn’t a duplicate sector,
only the master sector will be output.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Cyclic results extracted from pymapdl-reader may disagree with MAPDL
due to several issues/variations when extracting cyclic results
within MAPDL using <code class="docutils literal notranslate"><span class="pre">PowerGraphics</span></code>.  By default, MAPDL uses
<code class="docutils literal notranslate"><span class="pre">\EDGE,,,45</span></code>, which disables averaging across surface features
that exceed 45 degrees, but only writes one value when outputting
with <code class="docutils literal notranslate"><span class="pre">PRNSOL</span></code>.  On the other hand <code class="docutils literal notranslate"><span class="pre">pymapdl-reader</span></code> always averages,
so you will see differences between MAPDL and <code class="docutils literal notranslate"><span class="pre">pymapdl-reader</span></code> in
these cases.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nnum</span><span class="p">,</span> <span class="n">strain</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">nodal_elastic_strain</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">full_rotor</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Plot the nodal elastic strain in the “Z” direction for result <code class="docutils literal notranslate"><span class="pre">(5,</span> <span class="pre">2)</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pymapdl-reader</span></code> can plot the displacements while also plotting the
stress/strain.  Since modal results may or may not be normalized,
you will have to adjust the <code class="docutils literal notranslate"><span class="pre">displacement_factor</span></code> to scale up or
down the displacement to get a reasonable looking result.  Disable
plotting the displacement by setting <code class="docutils literal notranslate"><span class="pre">show_displacement=False</span></code>.</p>
<p>Additionally, you can also save screenshots by setting
<code class="docutils literal notranslate"><span class="pre">screenshot</span></code> to a filename with
<code class="docutils literal notranslate"><span class="pre">screenshot='elastic_strain.png'</span></code>.  If you wish to do this without
manually closing the plotting screen, set <code class="docutils literal notranslate"><span class="pre">off_screen=True</span></code>.  This
can help you automate saving screenshots.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_nodal_elastic_strain</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">show_displacement</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                    <span class="n">displacement_factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_002.png" />
<p>Plot the nodal elastic stress in the “Z” direction for this rotor.
Since this is plotting the other pair of modes for the 5th loadstep,
the displacement of this response is 90 degrees out of phase of
result <code class="docutils literal notranslate"><span class="pre">(5,</span> <span class="pre">2)</span></code></p>
<p>Available stress components are <code class="docutils literal notranslate"><span class="pre">['Y',</span> <span class="pre">'Z',</span> <span class="pre">'XY',</span> <span class="pre">'YZ',</span> <span class="pre">'XZ']</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_nodal_stress</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="n">show_displacement</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                            <span class="n">displacement_factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_003.png" />
<p>You can also plot the nodal von mises principal stress.  This plot
shows the principal stress for result <code class="docutils literal notranslate"><span class="pre">(5,</span> <span class="pre">2)</span></code>.</p>
<p>Available stress components are <code class="docutils literal notranslate"><span class="pre">['S1',</span> <span class="pre">'S2',</span> <span class="pre">'S3',</span> <span class="pre">'SINT',</span> <span class="pre">'SEQV']</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_</span> <span class="o">=</span> <span class="n">rotor</span><span class="o">.</span><span class="n">plot_principal_nodal_stress</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;SEQV&#39;</span><span class="p">,</span> <span class="n">show_displacement</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                      <span class="n">displacement_factor</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
</pre></div>
</div>
<img alt="academic sector stress strain" class="sphx-glr-single-img" src="../../_images/sphx_glr_academic_sector_stress_strain_004.png" />
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  3.961 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-01-cyclic-results-academic-sector-stress-strain-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/42d2d740296feb235d23bebeee90f437/academic_sector_stress_strain.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">academic_sector_stress_strain.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/1fae1e254b058f50fdfd4b8cb01e222f/academic_sector_stress_strain.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">academic_sector_stress_strain.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="academic_sector_nd.html" title="previous page">Understanding Nodal Diameters from a Cyclic Model Analysis</a>
    <a class='right-next' id="next-link" href="sector_model.html" title="next page">Cyclic Model Visualization</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright (c) 2021 ANSYS, Inc. All rights reserved.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>